# AI Startup Investment Evaluation Agent (RWA Tokenization Focus)
본 프로젝트는 **RWA(Real-World Asset, 실물자산) 토큰화 분야의 AI 스타트업**에 대한 **투자 가능성을 자동 평가**하는 다중 에이전트(Multi-Agent) 시스템을 설계하고 구현한 실습 프로젝트입니다.

---

## Background

- **Objective** :  
  부동산, 미술품, 채권, 지식재산권 등 실물자산을 블록체인 상에서 **토큰화(RWA Tokenization)** 하는 스타트업의 **기술력·시장성·규제 적합성·수익성**을 종합적으로 분석하여 **투자 적합성**을 자동 평가

- **Method** :  
  LangGraph 기반 **Multi-Agent + Agentic RAG** 구조로 설계  

- **Tools** :  
  LangGraph, LangChain, Tavily Search API, OpenAI GPT-4o-mini

---
## 🎯 개요
RWA 멀티 에이전트 투자 분석 시스템은 벤처캐피탈 회사가 실물자산(RWA) 토큰화에 집중하는 초기 단계 블록체인 스타트업을 자동으로 평가할 수 있도록 설계된 엔드투엔드 AI 기반 프레임워크

## AI Agent 서비스 차별화 고민 포인트
- 1. 투자 시장 규모자체가 해외가 더 크고, 리서치에 필요한 해외 원천 글 자료가 더 풍부하다고 생각했기에 해외 글을 가져오는 이점을 챙기기 위해 Docstrings도 모두 영어로 코드를 짜서 진행
- 2. RAG를 진행할때 임베딩 모델도 한국어 모델은 선택지 폭과 성능의 옵션이 적어서 영어를 더 적합하게 사용할 수 있도록 "모델명: multilingual-e5-large"을 채택했습니다.

솔루션LangGraph로 조율되는 6개의 전문 AI 에이전트를 활용하여

✅ 30분 이내에 10개 이상의 스타트업 분석
✅ VC급 투자 보고서 생성 (15-20페이지)
✅ 객관적이고 데이터 기반의 권고사항 제공
✅ 20개 항목 VC 체크리스트 평가 포함
✅ 재무 모델링, 팀 분석, 리스크 평가 포함

## ⚙️ 주요 기능(Feature)

1️⃣ 투자자 성향 평가 (Agent 0)
투자자 리스크 프로필 기반 적응형 평가
시스템은 5개 질문 CLI 설문조사(1-5 척도)를 통해 투자자 성향을 평가합니다:

위험 선호도 (고수익 vs. 안정성)
초기 단계 투자 경험
수익 모델 안정성의 중요도
ESG 고려 우선순위
성장 선호도 (급성장 vs. 안정적 성장)
| 투자자 유형 | Seed / Early | Regional / ESG | Growth + Partnership | Regulation / Monetization |
|--------------|---------------|----------------|----------------------|---------------------------|
| 🧨 **공격형 (Aggressive)** | **40% (최우선)** | 15% | **35% (중요)** | 10% |
| 🍀 **보수형 (Conservative)** | 10% | **30% (ESG 중점)** | 20% | **40% (규제 중점)** |


```

**출력:** 
- investor_persona: "aggressive" 또는 "conservative"
- persona_rationale: 판단 근거
- → Agent 1의 가중치 점수에 반영

---

### 2️⃣ 스타트업 탐색 및 랭킹 (Agent 1)

**자동화된 데이터 수집 및 다기준 평가**

#### 입력 데이터
```
startups.json 파일 구조:
[
  {
    "name": "회사명",
    "sector": "시장 세그먼트",
    "strength": "핵심 경쟁 우위"
  }
]
```

#### 프로세스
```
1. 웹 검색
   └─> DuckDuckGo API로 스타트업당 5개 결과 수집
       ├─ 공식 웹사이트
       ├─ 뉴스 기사
       ├─ 파트너십 공지
       └─ 펀딩 정보

2. 정보 추출
   └─> LLM이 구조화된 데이터 추출
       ├─ 웹사이트 URL
       ├─ 지역 (미국, 유럽, 아시아)
       └─ 펀딩 단계 (Seed, Series A, Series B)

3. 다기준 평가 (4개 차원)

4. 점수 산정

5. 랭킹 (total_score 기준 내림차순 정렬)
```

#### 평가 기준 및 가중치
```
| 기준 | 설명 | 가중치 (공격형) | 가중치 (보수형) |
|------|------|------------------|------------------|
| **Seed / Early Stage** | 혁신성, 성장 잠재력, 펀딩 수준 | **40%** | **10%** |
| **Regional / ESG** | 지역 확장성, ESG 연관성 | **15%** | **30%** |
| **Growth + Partnership** | 성장률, 전략적 제휴 | **35%** | **20%** |
| **Regulation / Monetization** | 규제 준수, 수익 명확성 | **10%** | **40%** |

```

#### 출력 점수
```
각 스타트업이 받는 점수:
| 점수 유형 | 범위 | 설명 |
|------------|-------|------------------------------|
| **total_score** | 0 - 100 | 4개 기준의 가중 합계 |
| **domain_fit** | 0 - 1 | RWA 섹터 적합도 |
| **credibility_score** | 0 - 1 | 시장 신뢰도 |
| **final_score** | 0 - 1 | 정규화된 총점 |


```

#### 최종 출력
```
- evaluation_results: 전체 스타트업 순위 리스트
- current_startup_index: 0 (1순위 선택)
- current_startup_data: 심층 분석 대상 스타트업 상세 데이터
```

---

### 3️⃣ 기술 실사 (Agent 2)

**포괄적인 기술 평가를 위한 서브그래프 아키텍처**

Agent 2는 내부 루프와 품질 게이트를 갖춘 **독립적인 LangGraph 서브그래프**입니다.

#### 아키텍처 흐름
```
0: 입력 처리 (Ingest Input)
   ↓
1: 신호 수집 (Collect Signals)
   ↓
2: 정규화 및 보강 (Normalize & Enrich)
   ↓
3: 가드 체크 (Guard Check) ◄────────┐
   ├─ 신호 없음 → 재시도 ────────────┘
   └─ 신호 발견 ↓
                ↓
4: 규칙 기반 점수 (Score by Rules)
   ↓
5: 최종 점수 계산 (Calculate Final)
   ↓
6: 증거 구축 (Build Evidence) ◄───────┐
   ↓                                  │
7: 결정 노트 (Decision Notes)         │
   ↓                                  │
7b: 내러티브 생성 (Generate Narrative) │
   ↓                                  │
8: JSON 출력 (Emit JSON)               │
   ↓                                  │
9: 품질 게이트 (Quality Gate)          │
   ├─ 증거 부족 → 수정 ─────────────────┘
   └─ 통과 → 출력
```

#### 평가 기준
```
| 차원 (Dimension) | 설명 | 가중치 |
|------------------|------|--------|
| **Domain Fit (도메인 적합성)** | RWA 토큰화 분야에서의 제품 포지셔닝 | **30%** |
| **Tech Maturity (기술 성숙도)** | 보안성, 확장성, TRL (기술 성숙도 수준) | **25%** |
| **Credibility (신뢰도)** | 기관 파트너십 (예: BlackRock BUIDL 등) | **25%** |
| **Compliance Risk (규제 리스크)** | KYC/AML, SEC 등록, ATS 라이선스 *(페널티)* | **-20%** |
| **Ecosystem (생태계)** | TradFi/DeFi 통합 (예: FalconX, Fireblocks) | **10%** |


```

#### 신호 수집
```
쿼리 1: [회사명] [섹터]
쿼리 2: [회사명] tokenization KYC AML licensing

출처 분류:
| 출처 (Source) | 설명 | 신뢰도 (Reliability) |
|----------------|------|----------------------|
| **site** | 공식 웹사이트 | **0.85** |
| **report** | 산업 보고서 | **0.85** |
| **press** | 뉴스 기사 | **0.70** |
| **repo** | GitHub / GitLab | **0.60** |
| **other** | 기타 출처 | **0.60** |


{
  "scores": {
    "domain_fit": 0.82,
    "tech_maturity": 0.63,
    "credibility": 0.61,
    "compliance_risk": 0.33,
    "ecosystem": 0.63
  },
  "final_score": 0.553,
  "evidence": [...],
  "narrative": "350-500 단어 실사 보고서",
  "notes": {
    "strengths": ["높은 도메인 적합성"],
    "risks": ["규제 리스크", "신뢰도 증명 필요"]
  }
}
```

---

### 4️⃣ 시장 평가 (Agent 3)

**산업 보고서를 활용한 RAG 기반 시장 분석**

#### RAG 문서 출처
```
| # | 문서명 | 활용 목적 | 주요 인사이트 |
|---|---------|------------|----------------|
| **①** | CoinGecko 2025 RWA 보고서 | 시장 규모 및 성장 데이터 | **TAM:** $24B → $30T 전망<br>**주요 플레이어:** Ondo Finance, BlackRock BUIDL |
| **②** | WEF 자산 토큰화 보고서 | 기관 채택 트렌드 | 규제 명확화, TradFi 통합 |
| **③** | Cornerstone: 금융의 신뢰 | 신뢰 레이어 분석 | 보안 표준, 기관 신뢰 |
| **④** | 자산 토큰화 심층 분석 (한국어) | 지역 규제 | **디지털자산기본법**, **STO 가이드라인**, 국내 컨소시엄 활동 |



#### RAG 파이프라인
```
1. 웹 검색
   └─> 쿼리: "[스타트업명] [섹터] 시장 규모 TAM SAM SOM CAGR"

2. 문서 처리
   ├─ 텍스트 분할 (chunk_size=1000, overlap=200)
   ├─ 임베딩: all-mpnet-base-v2 (sentence-transformers)
   └─ 벡터 저장소: Chroma DB (일시적, 사용 후 삭제)

3. 검색
   └─> 상위 3개 관련 청크 (k=3)

4. LLM 분석
   └─> GPT-4o-mini를 통한 구조화된 출력
```

#### 평가 프레임워크 (Bessemer Checklist + Scorecard Method)
```

| 기준 | 가중치 | 분석 초점 |
|------|--------|------------|
| **시장 성장성 (Growth Momentum)** | **40%** | TAM / SAM / SOM 규모, CAGR, 기관 관심도 |
| **수요 동력 (Demand Drivers)** | **30%** | 제품-시장 적합성, 고객 기반, 정책 지원 |
| **경쟁 강도 (Competitive Pressure)** | **20%** | 플레이어 수, 진입 장벽, 차별화 |
| **규제 명확성 (Regulatory Clarity)** | **10%** | 법적 불확실성, 운영 리스크 |


{
  "tam_sam_som": "TAM: $10B, SAM: $3B, SOM: $1B",
  "cagr": "15% (5년 전망)",
  "target_audience": "금융 기관, 부동산 개발사, 자산 토큰화 업체"
}
```

---

### 5️⃣ 경쟁사 분석 (Agent 4)

**주요 경쟁사 2-3개에 대한 SWOT 분석**

#### 프로세스
```
1. 웹 검색
   └─> 쿼리: "[스타트업명]의 [섹터] 주요 경쟁사"

2. LLM 식별
   └─> 2-3개 핵심 경쟁사 추출

3. SWOT 분석
   ├─ 강점 (Strength): 경쟁 우위
   └─ 약점 (Weakness): 대상 스타트업 대비 취약점

{
  "competitors": [
    {
      "name": "Polymath",
      "swot": {
        "Strength": "강력한 규제 준수 초점, 증권형 토큰에 필수적",
        "Weakness": "이더리움 전용, 멀티체인 유연성 제한"
      }
    },
    {
      "name": "tZERO",
      "swot": {
        "Strength": "Overstock.com 지원, 확립된 거래 플랫폼",
        "Weakness": "미국 시장 집중으로 국제 확장 제한"
      }
    }
  ]
}
```

---

### 6️⃣ 투자 결정 및 보고서 생성 (Agent 5 & 6)

#### Agent 5: 20개 항목 VC 체크리스트 평가

**업계 표준 VC 기준 기반 종합 평가**
```
┌────┬─────────────────┬──────────────────────────────────────┬──────────────────┐
│ #  │ 카테고리        │ 질문                                 │ 참조 데이터      │
├────┼─────────────────┼──────────────────────────────────────┼──────────────────┤
│ 1  │ 시장            │ TAM > $1B?                           │ Agent 3 데이터   │
├────┼─────────────────┼──────────────────────────────────────┼──────────────────┤
│ 2  │ 시장            │ CAGR > 20%?                          │ Agent 3 데이터   │
├────┼─────────────────┼──────────────────────────────────────┼──────────────────┤
│ 3  │ 문제            │ 명확한 문제?                         │ Agent 1          │
├────┼─────────────────┼──────────────────────────────────────┼──────────────────┤
│ 4  │ 제품            │ 10배 개선?                           │ Agent 1          │
├────┼─────────────────┼──────────────────────────────────────┼──────────────────┤
│ 5  │ 기술            │ 방어 가능한 해자?                    │ Agent 2          │
├────┼─────────────────┼──────────────────────────────────────┼──────────────────┤
│ 6  │ 기술            │ 검증된 성숙도?                       │ Agent 2          │
│    │                 │                                      │ tech_maturity    │
├────┼─────────────────┼──────────────────────────────────────┼──────────────────┤
│ 7  │ 팀              │ 도메인 전문성?                       │ Agent 2 증거     │
├────┼─────────────────┼──────────────────────────────────────┼──────────────────┤
│ 8  │ 팀              │ 실행 실적?                           │ Agent 2 증거     │
├────┼─────────────────┼──────────────────────────────────────┼──────────────────┤
│ 9  │ 경쟁            │ 명확한 차별화?                       │ Agent 4          │
├────┼─────────────────┼──────────────────────────────────────┼──────────────────┤
│ 10 │ 경쟁            │ 높은 진입 장벽?                      │ Agent 4          │
├────┼─────────────────┼──────────────────────────────────────┼──────────────────┤
│ 11 │ 비즈니스 모델   │ 명확한 수익?                         │ Agent 1, 2       │
├────┼─────────────────┼──────────────────────────────────────┼──────────────────┤
│ 12 │ 비즈니스 모델   │ LTV/CAC > 3x?                        │ Agent 1, 2       │
├────┼─────────────────┼──────────────────────────────────────┼──────────────────┤
│ 13 │ 견인력          │ 기관 파트너십?                       │ Agent 2          │
│    │                 │                                      │ ecosystem        │
├────┼─────────────────┼──────────────────────────────────────┼──────────────────┤
│ 14 │ 견인력          │ 활성 사용자?                         │ Agent 2          │
├────┼─────────────────┼──────────────────────────────────────┼──────────────────┤
│ 15 │ 신뢰도          │ VC 펀딩?                             │ Agent 2          │
│    │                 │                                      │ credibility      │
├────┼─────────────────┼──────────────────────────────────────┼──────────────────┤
│ 16 │ 신뢰도          │ 미디어 검증?                         │ Agent 2          │
│    │                 │                                      │ credibility      │
├────┼─────────────────┼──────────────────────────────────────┼──────────────────┤
│ 17 │ 규제            │ 명확한 전략?                         │ Agent 2          │
├────┼─────────────────┼──────────────────────────────────────┼──────────────────┤
│ 18 │ 규제            │ 낮은 리스크 점수?                    │ Agent 2          │
│    │                 │                                      │ compliance_risk  │
├────┼─────────────────┼──────────────────────────────────────┼──────────────────┤
│ 19 │ 확장성          │ 글로벌 확장 가능?                    │ Agent 1, 3       │
├────┼─────────────────┼──────────────────────────────────────┼──────────────────┤
│ 20 │ 적합성          │ 독특한 포지셔닝?                     │ Agent 1, 3       │
└────┴─────────────────┴──────────────────────────────────────┴──────────────────┘
```

#### 결정 로직
```
┌─────────────────┬─────────────────────┬──────────────────────┐
│ 점수 범위       │ 결정                │ 의미                 │
├─────────────────┼─────────────────────┼──────────────────────┤
│ 점수 ≥ 15/20    │ ✅ "투자 적절"      │ 투자 승인            │
├─────────────────┼─────────────────────┼──────────────────────┤
│ 점수 12-14/20   │ ⏸️ "보류"          │ 추가 검토 필요       │
├─────────────────┼─────────────────────┼──────────────────────┤
│ 점수 < 12/20    │ ❌ "부정적"        │ 투자 거절            │
└─────────────────┴─────────────────────┴──────────────────────┘

Agent 6: VC급 보고서 생성
결과에 따른 두 가지 보고서 유형
📗 사례 1: 투자 승인 보고서 (15-20페이지)
보고서 구조:

1. 📊 경영진 요약 (Executive Summary)
   ├─ 투자 논제 (1-2 단락)
   ├─ 주요 하이라이트 (5개 불릿 포인트)
   ├─ 리스크 등급 (낮음/중간/높음)
   └─ VC 체크리스트 점수 (X/20)

2. 1️⃣ 20개 항목 체크리스트 분석
   ├─ 시각적 점수 분포 (🟩/🟥 막대 차트)
   └─ 상세 통과/실패 분석

3. 2️⃣ 기술 실사 (Agent 2)
   ├─ 기술 아키텍처 검토
   ├─ 거버넌스 및 규제 준수 상태
   ├─ 신뢰도 및 생태계 분석
   └─ 리스크 감시 포인트

4. 3️⃣ 시장 평가 (Agent 3)
   ├─ TAM/SAM/SOM 분석
   ├─ CAGR 전망
   └─ 타겟 고객 프로필

5. 4️⃣ 경쟁 환경 (Agent 4)
   ├─ 경쟁사 SWOT 분석
   └─ 시장 포지셔닝 맵

6. 💰 재무 분석 (신규)
   ├─ 수익 모델 분석
   ├─ 펀딩 현황 (총 조달액, 최근 라운드, 투자자)
   ├─ 밸류에이션 분석 (비교 기업 + DCF)
   └─ 재무 건전성 (번 레이트, 런웨이, 수익성 경로)

7. 👥 팀 분석 (신규)
   ├─ 창업자 배경 (CEO, CTO)
   ├─ 핵심 팀원
   ├─ 자문단
   └─ 팀 평가 (도메인 전문성, 실행력, 네트워크)

8. 💼 투자 조건 제안 (신규)
   ├─ 제안 투자 규모 ($5-15M)
   ├─ 목표 지분율 (10-20%)
   ├─ Pre/Post-money 밸류에이션
   ├─ 주요 조건 (청산 우선권, 이사회 의석 등)
   ├─ Exit 시나리오 (최선/기본/최악 케이스 및 ROI)
   └─ Follow-on 전략

9. 🛡️ 리스크 완화 전략 (신규)
   ├─ 우선순위 높은 리스크 (규제, 기술, 시장, 경쟁)
   ├─ 영향도 및 발생 가능성 평가
   ├─ 완화 전략 (실행 가능한 단계)
   └─ 리스크 매트릭스 표

10. 📋 최종 권고사항
    ├─ 투자 결정: 진행 ✅
    ├─ 권장 다음 단계 (4단계, 8주 타임라인)
    ├─ 모니터링 대상 딜 리스크
    └─ 12개월 성공 지표

11. 📎 부록
    └─ 모든 에이전트의 전체 JSON 데이터
```

##### 📕 사례 2: 거절 보고서 (8-10페이지)
```
발생 조건:
- 5회 평가 후 투자 기준을 충족하는 스타트업이 없는 경우
- 또는 전체 스타트업 리스트 소진

보고서 구조:

1. 📊 경영진 요약
   ├─ 평가 통계 (총 평가 수, 결정 분포)
   └─ 종료 사유

2. 📋 평가된 스타트업 목록
   └─ 표 형식 (순위, 섹터, 점수, 결정)

3. 📝 스타트업별 상세 평가
   ├─ 기본 정보
   ├─ 평가 점수
   ├─ 최종 결정
   └─ 주요 강점

4. 🏦 투자자 성향 분석
   ├─ 선택된 페르소나 설명
   └─ 페르소나별 평가 기준 가중치 표

5. 💡 주요 발견사항 및 권고사항
   ├─ 평가 결과 통계
   ├─ 공통 약점 분석
   └─ 다음 단계 제안
       ├─ 포트폴리오 확장 고려
       ├─ 평가 기준 재검토
       └─ 직접 소싱 전략

6. 📎 부록: 전체 랭킹 데이터
```

---

## 🧰 기술 스택
```
┌─────────────────┬────────────────────────────┬─────────────────────────────────┐
│ 카테고리        │ 기술                       │ 용도                            │
├─────────────────┼────────────────────────────┼─────────────────────────────────┤
│ 프레임워크      │ LangGraph, LangChain       │ 에이전트 조율, 상태 관리        │
├─────────────────┼────────────────────────────┼─────────────────────────────────┤
│ LLM             │ GPT-4o, GPT-4o-mini        │ 핵심 추론 엔진                  │
├─────────────────┼────────────────────────────┼─────────────────────────────────┤
│ 검색            │ DuckDuckGo Search API      │ 웹 데이터 수집 (Tavily 대체)   │
├─────────────────┼────────────────────────────┼─────────────────────────────────┤
│ RAG             │ Chroma DB                  │ 임시 벡터 저장소                │
├─────────────────┼────────────────────────────┼─────────────────────────────────┤
│ 임베딩          │ all-mpnet-base-v2          │ 의미론적 검색                   │
│                 │ (sentence-transformers)    │                                 │
├─────────────────┼────────────────────────────┼─────────────────────────────────┤
│ 데이터 형식     │ JSON                       │ 구조화된 데이터 교환            │
├─────────────────┼────────────────────────────┼─────────────────────────────────┤
│ 출력            │ Markdown                   │ 사람이 읽을 수 있는 보고서      │
├─────────────────┼────────────────────────────┼─────────────────────────────────┤
│ 로깅            │ LangSmith                  │ 추적 및 디버깅                  │
├─────────────────┼────────────────────────────┼─────────────────────────────────┤
│ 환경            │ Python 3.11+               │ 런타임                          │
└─────────────────┴────────────────────────────┴─────────────────────────────────┘
```

---

## 🤖 에이전트 상세
```
┌──────────────┬──────────────────────────┬─────┬─────────────────────────────────────┐
│ 에이전트     │ 역할                     │ RAG │ 주요 책임                           │
├──────────────┼──────────────────────────┼─────┼─────────────────────────────────────┤
│ Agent 0 🏦   │ 성향 평가                │ ❌  │ 5개 질문 설문,                      │
│              │                          │     │ 투자자 유형 분류                    │
├──────────────┼──────────────────────────┼─────┼─────────────────────────────────────┤
│ Agent 1 🔍   │ 스타트업 탐색 및 랭킹    │ ❌  │ 웹 검색, 다기준 점수, 랭킹          │
├──────────────┼──────────────────────────┼─────┼─────────────────────────────────────┤
│ Agent 2 🗜️   │ 기술 실사                │ ❌  │ 10개 노드 서브그래프,               │
│              │                          │     │ 기술 성숙도 점수, 증거 수집         │
├──────────────┼──────────────────────────┼─────┼─────────────────────────────────────┤
│ Agent 3 📊   │ 시장 평가                │ ✅  │ RAG 기반 시장 분석                  │
│              │                          │     │ (4개 PDF 출처)                      │
├──────────────┼──────────────────────────┼─────┼─────────────────────────────────────┤
│ Agent 4 🧮   │ 경쟁사 분석              │ ❌  │ 경쟁사 식별, SWOT 분석              │
├──────────────┼──────────────────────────┼─────┼─────────────────────────────────────┤
│ Agent 5 ⚖️   │ 투자 결정                │ ❌  │ 20개 항목 체크리스트 평가,          │
│              │                          │     │ 승인/보류/거절                      │
├──────────────┼──────────────────────────┼─────┼─────────────────────────────────────┤
│ Agent 6 📝   │ 보고서 생성              │ ❌  │ VC급 마크다운 보고서                │
│              │                          │     │ (15-20페이지)                       │
└──────────────┴──────────────────────────┴─────┴─────────────────────────────────────┘
```

---

## 🧩 시스템 아키텍처

### 상위 수준 흐름
```
                    ┌───────────────┐
                    │      시작     │
                    └───────┬──── ──┘
                            │
                            ▼
                ┌───────────────────────┐
                │  Agent 0: 성향 평가    │
                └───────────┬───────────┘
                            │
                            ▼
          ┌─────────────────────────────────┐
          │  Agent 1: 탐색 및 랭킹          │
          │  (10개 스타트업 평가 및 정렬)   │
          └─────────────┬───────────────────┘
                        │
                        ▼
          ┌─────────────────────────────────┐
          │  Agent 2: 기술 DD 서브그래프     │
          │  (10개 노드, 내부 루프)          │
          └─────────────┬───────────────────┘
                        │
                        ▼
          ┌─────────────────────────────────┐
          │  Agent 3: 시장 RAG              │
          │  (4개 PDF 문서 기반 분석)        │
          └─────────────┬───────────────────┘
                        │
                        ▼
          ┌─────────────────────────────────┐
          │  Agent 4: 경쟁사 분석            │
          │  (2-3개 경쟁사 SWOT)             │
          └─────────────┬───────────────────┘
                        │
                        ▼
          ┌─────────────────────────────────┐
          │  Agent 5: 투자 결정              │
          │  (20개 항목 체크리스트)           │
          └─────────────┬───────────────────┘
                        │
                        ▼
              ┌─────────────────────┐
              │   결정 확인          │
              │   (조건부 분기)      │
              └──┬──────────┬───────┘
                 │          │
        투자 적절│          │보류/부정적
        5회 누적│          │(5회 미만)
                 │          │
                 │          ▼
                 │   ┌──────────────────┐
                 │   │ 다음 스타트업     │
                 │   │ 선택             │
                 │   └─────┬────────────┘
                 │         │
                 │         ▼
                 │   ┌──────────────────┐
                 │   │ 남은 스타트업?    │
                 │   │ (조건부 분기)     │
                 │   └─┬────────┬───────┘
                 │     │        │
                 │   있음       없음
                 │     │        │
                 │     │        │
                 │     ▼        │
                 │  Agent 2로   │
                 │  재진입      │
                 │              │
                 ▼              ▼
          ┌─────────────────────────────────┐
          │  Agent 6: 보고서 생성            │
          │  (성공 또는 실패 보고서)          │
          └─────────────┬───────────────────┘
                        │
                        ▼
                ┌───────────────────┐
                │  종료: 최종 보고서 │
                └───────────────────┘
```

### Agent 2 서브그래프 상세
```
             ┌─────────────────────┐
             │  입력               │
             │  (Agent 1 데이터)   │
             └──────────┬──────────┘
                        │
                        ▼
             ┌─────────────────────┐
             │  0: 입력 처리        │
             └──────────┬──────────┘
                        │
                        ▼
             ┌─────────────────────┐
             │  1: 신호 수집       │◄────────┐
             │  (쿼리 2개)         │         │
             └──────────┬──────────┘         │ 
                        │                    │
                        ▼                    │
             ┌─────────────────────┐         │
             │  2: 정규화 및 보강  │          │
             └──────────┬──────────┘         │
                        │                    │
                        ▼                    │
             ┌─────────────────────┐         │
             │  3: 가드 체크       │         │
             │  (조건부 분기)      │         │
             └──────┬──────┬───────┘         │
                    │      │                 │
              신호 없음   신호 발견           │
                    │      │                 │
                    │      └─────────────────┘
                    │
                    ▼
             ┌─────────────────────┐
             │  4: 규칙 기반 점수   │
             │  (5개 차원)          │
             └──────────┬──────────┘
                        │
                        ▼
             ┌─────────────────────┐
             │  5: 최종 점수 계산   │
             └──────────┬──────────┘
                        │
                        ▼
             ┌─────────────────────┐
             │  6: 증거 구축       │◄───────┐
             │  (LLM 기반)         │        │
             └──────────┬──────────┘        │
                        │                   │
                        ▼                   │
             ┌─────────────────────┐        │
             │  7: 결정 노트       │         │
             └──────────┬──────────┘        │
                        │                   │
                        ▼                   │
             ┌─────────────────────┐        │
             │  7b: 내러티브 생성  │         │
             │  (350-500 단어)     │        │
             └──────────┬──────────┘        │
                        │                   │
                        ▼                   │
             ┌─────────────────────┐        │
             │  8: JSON 출력       │        │
             └──────────┬──────────┘        │
                        │                   │
                        ▼                   │
             ┌─────────────────────┐        │
             │  9: 품질 게이트     │         │
             │  (조건부 분기)      │         │
             └──────┬──────┬───────┘        │
                    │      │                │
              증거 부족   통과               │
                    │      │                │
                    │      └────────────────┘
                    │
                    ▼
             ┌─────────────────────┐
             │  출력               │
             │  (tech_summary)     │
             └─────────────────────┘
```

### 루프 메커니즘
```
루프 조건:
  decision != "투자 적절" 
  AND 
  len(decision_log) < 5 
  AND 
  남은 스타트업 존재

루프 본문:
  1. 다음 스타트업 선택 (select_next_startup)
  2. Agent 2 실행 (기술 실사)
  3. Agent 3 실행 (시장 평가)
  4. Agent 4 실행 (경쟁사 분석)
  5. Agent 5 실행 (투자 결정)
  6. 조건 평가

종료 조건:
┌────┬────────────────────┬──────────────────────────┐
│ #  │ 조건               │ 결과                      │
├────┼────────────────────┼──────────────────────────┤
│ 1  │ decision =         │ ✅ 성공 종료             │
│    │ "투자 적절"        │ → Agent 6 (성공 보고서)   │
├────┼────────────────────┼──────────────────────────┤
│ 2  │ len(decision_log)  │ ⏸️ 최대 시도 종료         │
│    │ >= 5               │ → Agent 6 (실패 보고서)   │
├────┼────────────────────┼──────────────────────────┤
│ 3  │ current_startup_   │ 📋 리스트 소진 종료       │
│    │ index == -1        │ → Agent 6 (실패 보고서)   │
└────┴────────────────────┴──────────────────────────┘

모든 종료 조건 → Agent 6 (보고서 생성)

## 🧰 Tech Stack

┌─────────────────┬────────────────────────────┬─────────────────────────────────┐
│ 카테고리        │ 기술                       │ 용도                             │
├─────────────────┼────────────────────────────┼─────────────────────────────────┤
│ 프레임워크      │ LangGraph, LangChain       │ 에이전트 조율, 상태 관리           │
├─────────────────┼────────────────────────────┼─────────────────────────────────┤
│ LLM             │ GPT-4o, GPT-4o-mini        │ 핵심 추론 엔진                   │
├─────────────────┼────────────────────────────┼─────────────────────────────────┤
│ 검색            │ DuckDuckGo Search API      │ 웹 데이터 수집 (Tavily 대체)      │
├─────────────────┼────────────────────────────┼─────────────────────────────────┤
│ RAG             │ Chroma DB                  │ 임시 벡터 저장소                 │
├─────────────────┼────────────────────────────┼─────────────────────────────────┤
│ 임베딩          │ all-mpnet-base-v2          │ 의미론적 검색                     │
│                 │ (sentence-transformers)    │                                 │
├─────────────────┼────────────────────────────┼─────────────────────────────────┤
│ 데이터 형식     │ JSON                       │ 구조화된 데이터 교환               │
├─────────────────┼────────────────────────────┼─────────────────────────────────┤
│ 출력            │ Markdown                   │ 사람이 읽을 수 있는 보고서        │
├─────────────────┼────────────────────────────┼─────────────────────────────────┤
│ 로깅            │ LangSmith                  │ 추적 및 디버깅                   │
├─────────────────┼────────────────────────────┼─────────────────────────────────┤
│ 환경            │ Python 3.11+               │ 런타임                           │
└─────────────────┴────────────────────────────┴─────────────────────────────────┘

## 🤖 Agents

┌──────────────┬──────────────────────────┬─────┬─────────────────────────────────────┐
│ 에이전트     │ 역할                     │ RAG │ 주요 책임                           │
├──────────────┼──────────────────────────┼─────┼─────────────────────────────────────┤
│ Agent 0 🏦   │ 성향 평가                │ ❌  │ 5개 질문 설문,                      │
│              │                          │     │ 투자자 유형 분류                    │
├──────────────┼──────────────────────────┼─────┼─────────────────────────────────────┤
│ Agent 1 🔍   │ 스타트업 탐색 및 랭킹    │ ❌  │ 웹 검색, 다기준 점수, 랭킹          │
├──────────────┼──────────────────────────┼─────┼─────────────────────────────────────┤
│ Agent 2 🗜️   │ 기술 실사                │ ❌  │ 10개 노드 서브그래프,               │
│              │                          │     │ 기술 성숙도 점수, 증거 수집         │
├──────────────┼──────────────────────────┼─────┼─────────────────────────────────────┤
│ Agent 3 📊   │ 시장 평가                │ ✅  │ RAG 기반 시장 분석                  │
│              │                          │     │ (4개 PDF 출처)                      │
├──────────────┼──────────────────────────┼─────┼─────────────────────────────────────┤
│ Agent 4 🧮   │ 경쟁사 분석              │ ❌  │ 경쟁사 식별, SWOT 분석              │
├──────────────┼──────────────────────────┼─────┼─────────────────────────────────────┤
│ Agent 5 ⚖️   │ 투자 결정                │ ❌  │ 20개 항목 체크리스트 평가,          │
│              │                          │     │ 승인/보류/거절                      │
├──────────────┼──────────────────────────┼─────┼─────────────────────────────────────┤
│ Agent 6 📝   │ 보고서 생성              │ ❌  │ VC급 마크다운 보고서                │
│              │                          │     │ (15-20페이지)                       │
└──────────────┴──────────────────────────┴─────┴─────────────────────────────────────┘

에이전트별 상세 정보(에이전트 이름을 숫자로만 혹은 영어로만 적지말라는 피드백을 반영하여 아래처럼 더 세부화 하였습니다.)
┌─────────────────────────────────────────────────────────────────────────────┐
│ Agent 0: 투자자 성향 평가 (Persona Assessment)                              │
├─────────────────────────────────────────────────────────────────────────────┤
│ 입력:                                                                       │
│   - 사용자 CLI 입력 (5개 질문, 1-5 척도)                                    │
│                                                                             │
│ 처리:                                                                       │
│   - 5개 질문 응답 수집                                                      │
│   - 공격형/보수형 점수 계산                                                 │
│   - 가중치 맵 선택                                                          │
│                                                                             │
│ 출력:                                                                       │
│   - investor_persona: "aggressive" 또는 "conservative"                      │
│   - persona_rationale: 판단 근거 텍스트                                     │
│   - decision_log: [] (빈 리스트 초기화)                                     │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ Agent 1: 스타트업 탐색 및 랭킹 (Startup Search & Ranking)                   │
├─────────────────────────────────────────────────────────────────────────────┤
│ 입력:                                                                       │
│   - startups.json (10개 스타트업 리스트)                                    │
│   - investor_persona (Agent 0)                                              │
│                                                                             │
│ 처리:                                                                       │
│   - 각 스타트업별 웹 검색 (5 results)                                       │
│   - 정보 추출 (website, region, funding_stage)                              │
│   - 4개 기준 평가 (페르소나 가중치 적용)                                    │
│   - 총점 계산 및 정렬                                                       │
│                                                                             │
│ 출력:                                                                       │
│   - evaluation_results: 순위별 전체 리스트                                  │
│   - current_startup_index: 0                                                │
│   - current_startup_data: 1순위 스타트업 상세 데이터                        │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ Agent 2: 기술 실사 (Technical Due Diligence)                                │
├─────────────────────────────────────────────────────────────────────────────┤
│ 입력:                                                                       │
│   - current_startup_data (Agent 1)                                          │
│                                                                             │
│ 처리: (10개 노드 서브그래프)                                                │
│   0. 입력 처리                                                              │
│   1. 신호 수집 (쿼리 2개, 최대 10개 신호)                                   │
│   2. 정규화 및 보강 (출처 분류, 신뢰도 부여)                                │
│   3. 가드 체크 (신호 없으면 1번으로 재시도)                                 │
│   4. 규칙 기반 점수 (5개 차원)                                              │
│   5. 최종 점수 계산 (가중 평균)                                             │
│   6. 증거 구축 (LLM으로 증거 요약)                                          │
│   7. 결정 노트 (강점/약점/포지셔닝)                                         │
│   7b. 내러티브 생성 (350-500 단어)                                          │
│   8. JSON 출력 (페이로드 조립)                                              │
│   9. 품질 게이트 (증거 없으면 6번으로 재시도)                               │
│                                                                             │
│ 출력:                                                                       │
│   - tech_summary_output:                                                    │
│       - scores: {domain_fit, tech_maturity, credibility,                    │
│                  compliance_risk, ecosystem}                                │
│       - final_score: 0-1                                                    │
│       - evidence: [{id, source, url, snippet, relates_to}]                  │
│       - narrative: 실사 보고서 텍스트                                       │
│       - notes: {strengths, risks, positioning}                              │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ Agent 3: 시장 평가 (Market Assessment)                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│ 입력:                                                                       │
│   - current_startup_data (이름, 섹터)                                       │
│   - tech_summary_output (선택적 참조)                                       │
│                                                                             │
│ 처리: (RAG 파이프라인)                                                      │
│   1. 웹 검색 (시장 규모 관련)                                               │
│   2. 문서 생성 (검색 결과 → Document 객체)                                  │
│   3. 텍스트 분할 (chunk_size=1000, overlap=200)                             │
│   4. 벡터 저장소 구축 (Chroma + all-mpnet-base-v2)                          │
│   5. RAG 체인 실행 (Retriever k=3 + LLM 분석)                               │
│   6. 벡터 저장소 삭제 (임시 DB 정리)                                        │
│                                                                             │
│ 출력:                                                                       │
│   - market_assessment_output:                                               │
│       - tam_sam_som: "TAM: $XB, SAM: $YB, SOM: $ZB"                         │
│       - cagr: "X% (5년 전망)"                                               │
│       - target_audience: "타겟 고객 설명"                                   │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ Agent 4: 경쟁사 분석 (Competitor Analysis)                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│ 입력:                                                                       │
│   - current_startup_data (이름, 섹터)                                       │
│                                                                             │
│ 처리:                                                                       │
│   1. 웹 검색 (주요 경쟁사)                                                  │
│   2. LLM 분석 (2-3개 경쟁사 식별)                                           │
│   3. 각 경쟁사별 SWOT 분석                                                  │
│                                                                             │
│ 출력:                                                                       │
│   - competitor_analysis_output:                                             │
│       - competitors: [                                                      │
│           {name: "경쟁사명",                                                │
│            swot: {Strength: "...", Weakness: "..."}},                       │
│           ...                                                               │
│         ]                                                                   │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ Agent 5: 투자 결정 (Investment Decision)                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│ 입력:                                                                       │
│   - current_startup_data (Agent 1)                                          │
│   - tech_summary_output (Agent 2)                                           │
│   - market_assessment_output (Agent 3)                                      │
│   - competitor_analysis_output (Agent 4)                                    │
│                                                                             │
│ 처리:                                                                       │
│   1. 전체 컨텍스트 취합                                                     │
│   2. LLM에 20개 체크리스트 평가 요청 (각 0 or 1)                            │
│   3. 점수 합산 (total_score / 20)                                           │
│   4. 결정 로직 적용:                                                        │
│      - ≥15: "투자 적절"                                                     │
│      - 12-14: "보류"                                                        │
│      - <12: "부정적"                                                        │
│   5. decision_log 업데이트                                                  │
│                                                                             │
│ 출력:                                                                       │
│   - investment_decision_output:                                             │
│       - total_score: 0-20                                                   │
│       - decision: "투자 적절" | "보류" | "부정적"                           │
│       - reasoning: 평가 요약                                                │
│       - checklist_scores: [0/1 × 20개]                                      │
│   - decision_log: 누적 결정 리스트                                          │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ Agent 6: 보고서 생성 (Report Generator)                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│ 입력:                                                                       │
│   - 모든 에이전트의 출력 데이터                                             │
│   - decision_log (최종 상태)                                                │
│                                                                             │
│ 처리:                                                                       │
│   IF decision == "투자 적절":                                               │
│       - 성공 보고서 생성 (15-20페이지)                                      │
│       - 재무 데이터 추출 (LLM 기반)                                         │
│       - 팀 데이터 추출 (LLM 기반)                                           │
│       - 투자 조건 계산 (점수 기반 동적 조정)                                │
│       - 리스크 분석 및 완화 전략                                            │
│   ELSE:                                                                     │
│       - 실패 보고서 생성 (8-10페이지)                                       │
│       - 평가 통계 및 권고사항                                               │
│                                                                             │
│ 출력:                                                                       │
│   - final_report: Markdown 텍스트                                           │
│   - Final_Investment_Report.md 파일 저장                                    │
└─────────────────────────────────────────────────────────────────────────────┘

mermaid = r"""
graph TD
    A[Start] --> B(Agent 0: Persona);
    B --> C(Agent 1: Search & Rank);
    C --> D(Agent 2: Tech Summary);
    D --> E(Agent 3: Market RAG);
    E --> F(Agent 4: Competitor);
    F --> G(Agent 5: Decision);
    G --> H{Should Loop or Stop?};
    
    H -- "투자 적절" --> Z(Agent 6: Generate Report);
    H -- "5회 누적 실패" --> Z;
    
    H -- "보류/부정적 (< 5회)" --> I(Select Next Startup);
    I --> J{More Startups Left?};
    J -- "Yes" --> D;
    J -- "No" --> Z;
    
    Z --> X[END];
"""

## 🧩 Architecture
<img width="433" height="1581" alt="image" src="https://github.com/user-attachments/assets/75d42131-8eed-4230-bd3b-0e1fcc0cdf9f" />


---

## 📂 Directory Structure
```
RWA_Investment_Agent2/         
├── startups.json           ✅ (스타트업 데이터)
├── agent0.py ~ agent6.py   ✅ (에이전트 파일들)
├── config.py               ✅ (설정)
├── graph_state.py          ✅ (상태 정의)
├── control_flow.py         ✅ (제어 흐름)
├── main.py                 ✅ (실행 파일)

---

Contributor Role 
백광운 Company Profiling Agent, Startup Selection Agent Design 

백선재 Investment Decision Agent and Report Generation Design 

문해준 Technology Evaluation Agent Design 

조혜림 Market Evaluation Agent Design, RAG Embedding

